<div class="container mt-4">
  <div class="card">
    <div class="card-header bg-dark text-white">
      <div class="d-flex justify-content-between align-items-center w-100">
        <h2>{{workoutPlan?.name}}</h2>
        <h2>{{workoutPlan?.dateRange?.from}}</h2>
        <h2>{{workoutPlan?.dateRange?.to}}</h2>
        <nav>
          WEEK
          <ul class="pagination mb-0">
            <li *ngFor="let page of range(totalWeeks)" class="page-item" [class.active]="page + 1 === currentPage" style="cursor: pointer">
              <a class="page-link" (click)="onPageChange(page + 1)">{{ page + 1 }}</a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
    <div class="card-body">
      <div class="container">
        <div class="row">
          <div class="col" *ngFor="let day of days">
            <div class="day-header p-3 mb-4 rounded text-center">
              <h3>{{ day }}</h3>
            </div>
            <div class="task p-3 mb-3 rounded" *ngFor="let task of tasks[day]" style="cursor: pointer;" (click)="onTaskClick(task)">
              <div class="task-header">
                <h4>{{ task.name }}</h4>
              </div>
              <div class="task-body">
                <div><fa-icon [icon]="['fas', 'clock']"></fa-icon> Tempo: {{ task.tempo }}</div>
                <div><fa-icon [icon]="['fas', 'sync']"></fa-icon> Reps/Sets: {{ task.repetitions }}/{{ task.sets }}</div>
                <div><fa-icon [icon]="['fas', 'dumbbell']"></fa-icon> Weight: {{ task.weight }}kg</div>
                <div><fa-icon [icon]="['fas', 'heartbeat']"></fa-icon> RIR: {{ task.rir }}</div>
              </div>
              <div class="text-center task-actions">
                <button class="btn mt-2"
                        [ngClass]="{'btn-success': task.reported, 'btn-danger': !task.reported}"
                        (click)="openReportModal(task); $event.stopPropagation()">
                  Report
                </button>
                <button class="btn btn-primary mt-2 ms-2"
                        (click)="editExerciseItem(task, day); $event.stopPropagation()">
                  <fa-icon [icon]="['fas', 'edit']"></fa-icon>
                </button>
                <button class="btn btn-danger mt-2 ms-2"
                        (click)="deleteExerciseItem(task); $event.stopPropagation()">
                  <fa-icon [icon]="['fas', 'trash']"></fa-icon>
                </button>
              </div>
            </div>
            <!-- Add exercise tile -->
            <div class="task p-3 mb-3 rounded text-center" style="cursor: pointer;" (click)="openAddExerciseModal(day)">
              <h4>+ Add Exercise</h4>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
